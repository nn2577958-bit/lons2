<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>라니 MALL 로그인</title>

<!-- 파비콘 -->
<link rel="icon" type="image/png"
      href="https://cdn.phototourl.com/uploads/2026-02-28-90909391-9783-4299-a370-a3766a19e150.png">

<style>
* { box-sizing:border-box; margin:0; padding:0; }

body {
  height:100vh;
  font-family:'Segoe UI',sans-serif;
  background:#020617;
  display:flex;justify-content:center;align-items:center;
  overflow:hidden;position:relative;color:#fff;
}

/* ==== 애니메이션 배경 레이어 ==== */
.bg-gradient {
  position:absolute;
  inset:-20%;
  background:
    radial-gradient(circle at 0% 0%, rgba(96,165,250,0.35), transparent 60%),
    radial-gradient(circle at 100% 0%, rgba(244,114,182,0.35), transparent 60%),
    radial-gradient(circle at 50% 100%, rgba(45,212,191,0.4), transparent 55%);
  filter:blur(18px);
  opacity:0.9;
}

/* 회전 네온 링 */
.bg-orbit {
  position:absolute;
  width:950px;
  height:950px;
  border-radius:50%;
  background:conic-gradient(
    from 0deg,
    #4f46e5,
    #22c55e,
    #f97316,
    #ec4899,
    #4f46e5
  );
  mix-blend-mode:screen;
  opacity:0.45;
  animation:spinOrbit 22s linear infinite;
}
.bg-orbit::before {
  content:'';
  position:absolute;
  inset:140px;
  border-radius:50%;
  background:#020617;
}
@keyframes spinOrbit {
  to { transform:rotate(360deg); }
}

/* 떠다니는 글로우 점 */
.particle {
  position:absolute;
  width:220px;
  height:220px;
  border-radius:50%;
  background:radial-gradient(circle, rgba(248,250,252,0.9), transparent 65%);
  opacity:0.16;
  mix-blend-mode:screen;
  animation:floatParticle 16s ease-in-out infinite alternate;
}
.p1 { top:-40px; left:6%;  animation-delay:0s; }
.p2 { bottom:-80px; right:4%; animation-delay:3s; }
.p3 { top:50%; left:-60px; transform:translateY(-50%); animation-delay:6s; }

@keyframes floatParticle {
  0%   { transform:translate3d(0,0,0) scale(1); }
  50%  { transform:translate3d(-30px,20px,0) scale(1.05); }
  100% { transform:translate3d(40px,-30px,0) scale(1.08); }
}

/* ==== 로그인 카드 ==== */
.card {
  position:relative; z-index:2;
  width:100%; max-width:420px;
  padding:38px 32px 32px;
  background:rgba(15,23,42,0.92);
  backdrop-filter:blur(24px);
  border-radius:24px;
  border:1px solid rgba(148,163,184,0.65);
  box-shadow:
    0 24px 70px rgba(15,23,42,0.95),
    0 0 30px rgba(56,189,248,0.45);     /* 네온 외곽 글로우 */
  display:flex; flex-direction:column;
}

/* 상단 로고/텍스트 */
.logo {
  font-size:26px;
  font-weight:800;
  background:linear-gradient(135deg,#e5e7eb,#ffffff);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  margin-bottom:6px;
  text-shadow:0 0 12px rgba(129,140,248,0.9); /* 로고 네온 느낌 */
}
.subtitle {
  font-size:14px;
  color:rgba(226,232,240,0.9);
  margin-bottom:6px;
}
.hint {
  font-size:12px;
  color:rgba(148,163,184,0.9);
  margin-bottom:22px;
}

/* Google 버튼 */
.google-btn {
  width:100%;
  padding:14px 22px;
  border:none;
  border-radius:14px;
  font-weight:700;
  font-size:15px;
  cursor:pointer;
  transition:all 0.25s;
  background:linear-gradient(135deg,#4285F4,#34A853);
  color:#fff;
  box-shadow:0 10px 28px rgba(37,99,235,0.7);
  position:relative;
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
}
.google-btn::before {
  content:''; position:absolute; top:0; left:-100%; width:100%; height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,0.33),transparent);
  transition:left 0.55s;
}
.google-btn:hover {
  transform:translateY(-3px) rotate(-1.5deg);
  box-shadow:
    0 16px 40px rgba(37,99,235,0.95),
    0 0 26px rgba(56,189,248,0.7);   /* 버튼 네온 글로우 */
  background:linear-gradient(135deg,#34A853,#4285F4);
}
.google-btn:hover::before { left:100%; }
.google-btn:active { transform:translateY(-1px) rotate(-1deg); }
.google-btn:focus-visible {
  outline:2px solid #e5e7eb;
  outline-offset:3px;
}

.google-icon {
  width:20px;height:20px;margin-right:10px;display:inline-block;
  background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:4px;
  mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23fff"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" opacity=".6"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>') no-repeat center;
  -webkit-mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23fff"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" opacity=".6"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>') no-repeat center;
  mask-size:16px;
}

.loading {
  display:inline-block;
  width:18px;height:18px;
  border:2px solid rgba(255,255,255,0.3);
  border-radius:50%;
  border-top-color:#fff;
  margin-right:8px;
  animation:spin 1s ease-in-out infinite;
}
@keyframes spin { to { transform:rotate(360deg); } }

.error {
  margin-top:12px;
  font-size:12px;
  color:#fee2e2;
  min-height:16px;
}

/* 반응형 */
@media (max-width:480px) {
  .card {
    margin:0 16px;
    padding:32px 24px 26px;
  }
}
</style>
</head>
<body>
  <!-- 애니메이션 배경 -->
  <div class="bg-gradient"></div>
  <div class="bg-orbit"></div>
  <div class="particle p1"></div>
  <div class="particle p2"></div>
  <div class="particle p3"></div>

  <!-- 로그인 카드 -->
  <div class="card">
    <div class="logo">라니 MALL</div>
    <div class="subtitle">환영합니다!</div>
    <div class="hint">Google 계정으로 안전하게 로그인하세요.</div>

    <button id="google-login-btn" class="google-btn">
      <span class="google-icon" aria-hidden="true"></span>
      <span id="btn-text">Google 로그인</span>
    </button>

    <div id="error-box" class="error"></div>
  </div>

<script type="module">
import { auth } from "./firebase.js";
import {
  GoogleAuthProvider,
  signInWithPopup,
  onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

onAuthStateChanged(auth, user => {
  if (user) window.location.href = "home.html";
});

const provider = new GoogleAuthProvider();
const loginBtn = document.getElementById("google-login-btn");
const btnText = document.getElementById("btn-text");
const errorBox = document.getElementById("error-box");

loginBtn.addEventListener("click", async () => {
  loginBtn.disabled = true;
  errorBox.textContent = "";
  btnText.innerHTML = '<span class="loading"></span>로그인 중...';

  try {
    const result = await signInWithPopup(auth, provider);
    if (result.user) window.location.href = "home.html";
  } catch (err) {
    console.error("로그인 오류:", err);
    errorBox.textContent = "로그인 실패: " + (err.message || "다시 시도해 주세요.");
    loginBtn.disabled = false;
    btnText.textContent = "Google 로그인";
  }
});
</script>
</body>
</html>
