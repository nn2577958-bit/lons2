<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë¼ë‹ˆ MALL - í™ˆ</title>
<style>
body {
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  font-family:'Segoe UI', sans-serif;
  background: url('https://cdn.phototourl.com/uploads/2026-02-18-2239f19c-5c7f-4c1e-b1c1-731bf5606151.webp') center/cover no-repeat;
  background-size: cover;
}

.container {
  width:100%;
  max-width:360px;
  padding:20px;
  text-align:center;
  margin-top:40px;
  color:white;
  background: rgba(0,0,0,0.35);
  border-radius:16px;
  display:flex;
  flex-direction:column;
  gap:15px;
}

#status {
  font-weight:bold;
  margin-bottom:10px;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:6px;
}

#welcome {
  font-weight:bold;
  margin-bottom:15px;
}

/* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
.product {
  background: rgba(255,255,255,0.15);
  padding:15px;
  border-radius:12px;
  backdrop-filter: blur(8px);
  text-align:center;
  transition: transform 0.2s, box-shadow 0.2s;
}

.product:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
}

.product h3 {
  margin:0 0 8px 0;
  font-weight:bold;
}

.product p {
  margin:0 0 10px 0;
}

/* ë¬¸ì˜ ë²„íŠ¼ */
.product button {
  padding:6px 12px;
  border:none;
  border-radius:6px;
  cursor:pointer;
  background:#1976d2;
  color:white;
  font-weight:bold;
}

/* ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ */
#logout-btn {
  background:#d50000;
  color:white;
  padding:8px;
  width:100%;
  border:none;
  border-radius:8px;
  cursor:pointer;
  margin-top:10px;
  font-weight:bold;
}
</style>
</head>
<body>

<div class="container">
  <div id="status">ğŸŸ¢ ì˜¨ë¼ì¸</div>
  <div id="welcome">ë¡œê·¸ì¸ í™•ì¸ ì¤‘...</div>

  <div id="product-list"></div>

  <button id="logout-btn">ë¡œê·¸ì•„ì›ƒ</button>
</div>

<script type="module">
import { auth } from "./firebase.js";
import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

/* HTML ìš”ì†Œ */
const welcome = document.getElementById("welcome");
const productList = document.getElementById("product-list");

/* ì˜ˆì‹œ ìƒí’ˆ */
const products = [
  { name: "ë””ìŠ¤ì½”ë“œ ë´‡", price: "â‚©50,000" },
  { name: "í˜¸ìŠ¤íŒ…", price: "â‚©30,000" },
  { name: "ì„œë²„ ì»¤ìŠ¤í…€", price: "â‚©80,000" }
];

/* ìƒí’ˆ ë Œë”ë§ */
function renderProducts() {
  productList.innerHTML = "";
  products.forEach(p => {
    const div = document.createElement("div");
    div.className = "product";

    const title = document.createElement("h3");
    title.textContent = p.name;

    const price = document.createElement("p");
    price.textContent = p.price;

    const btn = document.createElement("button");
    btn.textContent = "ë¬¸ì˜";
    btn.onclick = () => alert(`${p.name} ë¬¸ì˜ëŠ” ë””ìŠ¤ì½”ë“œë¡œ ì£¼ì„¸ìš”.`);

    div.append(title, price, btn);
    productList.appendChild(div);
  });
}

/* ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ í›„ ë Œë”ë§ */
onAuthStateChanged(auth, user => {
  if(user){
    welcome.textContent = `í™˜ì˜í•©ë‹ˆë‹¤, ${user.email}`;
    renderProducts();
  } else {
    window.location.href = "index.html";
  }
});

/* ë¡œê·¸ì•„ì›ƒ */
document.getElementById("logout-btn").onclick = async () => {
  await signOut(auth);
  window.location.href = "index.html";
};

/* ì˜¨ë¼ì¸ ìƒíƒœ í‘œì‹œ */
const statusElem = document.getElementById("status");
function updateStatus(){
  const now = new Date();
  const kst = now.toLocaleString("ko-KR",{hour12:false,timeZone:"Asia/Seoul"});
  statusElem.textContent = `ğŸŸ¢ ì˜¨ë¼ì¸ | ${kst}`;
}
updateStatus();
setInterval(updateStatus,1000);
</script>
</body>
</html>
